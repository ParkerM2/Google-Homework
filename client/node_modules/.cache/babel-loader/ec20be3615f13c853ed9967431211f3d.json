{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/Parke/Desktop/Google-Homework/google-homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Parke/Desktop/Google-Homework/google-homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Parke/Desktop/Google-Homework/google-homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Parke/Desktop/Google-Homework/google-homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Parke/Desktop/Google-Homework/google-homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import{List}from\"../components/List\";import Form from\"../components/Form\";import Book from\"../components/Book\";import axios from\"axios\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={books:[],q:\"\",message:\"Search For A Book To Begin!\"};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;console.log(_this.state);_this.setState(_defineProperty({},name,value));};_this.getBooks=function(){API.getBooks(\"lol\").then(function(res){return _this.setState({books:res.data.description});}).catch(function(){return _this.setState({books:[],message:\"No New Books Found, Try a Different Query\"});});};_this.handleFormSubmit=function(event){event.preventDefault();console.log(event);_this.getBooks(_this.state.q);};_this.handleBookSave=function(id){var book=_this.state.books.find(function(book){return book.id===id;});API.saveBook({googleId:book.id,title:book.volumeInfo.title,subtitle:book.volumeInfo.subtitle,link:book.volumeInfo.infoLink,authors:book.volumeInfo.authors,description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.thumbnail}).then(function(){return _this.getBooks();});console.log(book.volumeInfo.description,\"after API.saveBook\");};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Google Books Search \"}),/*#__PURE__*/_jsx(\"h2\",{children:\" Search for and Save Books\"}),/*#__PURE__*/_jsx(Form,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,q:this.state.q}),this.state.books.length?/*#__PURE__*/_jsx(List,{children:this.state.books.map(function(book){return/*#__PURE__*/_jsx(Book,{title:book.volumeInfo.title,subtitle:book.volumeInfo.subtitle,link:book.volumeInfo.infoLink,authors:book.volumeInfo.authors.join(\", \"),description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.thumbnail,Button:function Button(){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleBookSave(book.id);},className:\"btn btn-primary ml-2\",children:\"Save\"});}},book.id);})}):/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",this.state.message]})]});}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["C:/Users/Parke/Desktop/Google-Homework/google-homework/client/src/pages/Home.js"],"names":["React","Component","API","List","Form","Book","axios","Home","state","books","q","message","handleInputChange","event","target","name","value","console","log","setState","getBooks","then","res","data","description","catch","handleFormSubmit","preventDefault","handleBookSave","id","book","find","saveBook","googleId","title","volumeInfo","subtitle","link","infoLink","authors","image","imageLinks","thumbnail","length","map","join"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport API from \"../utils/API\";\r\nimport {List} from \"../components/List\";\r\nimport Form from \"../components/Form\";\r\nimport Book from \"../components/Book\";\r\nimport axios from \"axios\";\r\n\r\nclass Home extends Component {\r\n    state = {\r\n      books: [],\r\n      q: \"\",\r\n      message: \"Search For A Book To Begin!\"\r\n    };\r\n  \r\n    handleInputChange = event => {\r\n      const { name, value } = event.target;\r\n      console.log(this.state)\r\n      this.setState({\r\n        [name]: value\r\n      });\r\n  };\r\n   getBooks = () => {\r\n    API.getBooks(\"lol\")\r\n      .then(res =>\r\n        this.setState({\r\n          books: res.data.description\r\n        })\r\n      )\r\n      .catch(() =>\r\n        this.setState({\r\n          books: [],\r\n          message: \"No New Books Found, Try a Different Query\"\r\n        })\r\n      );\r\n  };\r\n\r\n  \r\n    // getBooks = (q) => {\r\n    //    axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + q)\r\n    //     .then(results =>\r\n    //     results.data.items.filter(\r\n    //       result =>\r\n    //         result.volumeInfo.title &&\r\n    //         result.volumeInfo.infoLink &&\r\n    //         result.volumeInfo.authors &&\r\n    //         result.volumeInfo.description &&\r\n    //         result.volumeInfo.imageLinks &&\r\n    //         result.volumeInfo.imageLinks.thumbnail\r\n    //     )\r\n    //   )\r\n    //   .then(apiBooks =>\r\n    //     this.setState({\r\n    //       books : apiBooks\r\n    //     })\r\n    //  )\r\n    //     .catch(() =>\r\n    //       this.setState({\r\n    //         books: [],\r\n    //         message: \"No New Books Found, Try a Different Query\"\r\n    //       })\r\n    //     )\r\n    // };\r\n  \r\n    handleFormSubmit = event => {\r\n      event.preventDefault();\r\n      console.log(event)\r\n      this.getBooks(this.state.q);\r\n    };\r\n  \r\n    handleBookSave = id => {\r\n      const book = this.state.books.find(book => book.id === id);\r\n  \r\n      API.saveBook({\r\n        googleId: book.id,\r\n        title: book.volumeInfo.title,\r\n        subtitle: book.volumeInfo.subtitle,\r\n        link: book.volumeInfo.infoLink,\r\n        authors: book.volumeInfo.authors,\r\n        description: book.volumeInfo.description,\r\n        image: book.volumeInfo.imageLinks.thumbnail\r\n      }).then(() => this.getBooks());\r\n      console.log(book.volumeInfo.description, \"after API.saveBook\")\r\n    };\r\n    render() {\r\n        return(\r\n            <div>\r\n            <h1> Google Books Search </h1>\r\n            <h2> Search for and Save Books</h2>\r\n            \r\n            <Form\r\n                handleInputChange={this.handleInputChange}\r\n                handleFormSubmit={this.handleFormSubmit}\r\n                q={this.state.q}\r\n                />\r\n            {this.state.books.length ? (\r\n                <List>\r\n                  {this.state.books.map(book => (\r\n                    <Book\r\n                      key={book.id}\r\n                      title={book.volumeInfo.title}\r\n                      subtitle={book.volumeInfo.subtitle}\r\n                      link={book.volumeInfo.infoLink}\r\n                      authors={book.volumeInfo.authors.join(\", \")}\r\n                      description={book.volumeInfo.description}\r\n                      image={book.volumeInfo.imageLinks.thumbnail}\r\n                      Button={() => (\r\n                        <button\r\n                          onClick={() => this.handleBookSave(book.id)}\r\n                          className=\"btn btn-primary ml-2\"\r\n                        >\r\n                          Save\r\n                        </button>\r\n                      )}\r\n                    />\r\n                  ))}\r\n                </List>) : (\r\n                    <h2> {this.state.message}</h2>\r\n                )}\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}