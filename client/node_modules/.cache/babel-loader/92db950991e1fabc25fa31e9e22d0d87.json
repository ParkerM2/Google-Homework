{"ast":null,"code":"const db = require(\"../models\"); // routes for the books \n\n\nmodule.exports = {\n  findAll: function (req, res) {\n    db.Book.find(req.query).then(dbBook => res.json(dbBook)).catch(err => console.log(err));\n  },\n  findById: function (req, res) {\n    db.Book.find(req.params.id).then(dbBook => res.json(dbBook)).catch(err => console.log(err));\n  },\n  create: function (req, res) {\n    db.Book.create(req.body).then(dbBook => res.json(dbBook)).catch(err => console.log(err));\n  },\n  update: function (req, res) {\n    db.Book.findOneAndUpdate({\n      id: req.params.id\n    }, req.body).then(dbBook => res.json(dbBook)).catch(err => console.log(err));\n  },\n  remove: function (req, res) {\n    db.Book.findById(req.params.id).then(dbBook => dbBook.remove()).then(dbBook => res.json(dbBook)).catch(err => console.log(err));\n  }\n};","map":{"version":3,"sources":["C:/Users/Parke/Desktop/Google-Homework/google-homework/controllers/booksController.js"],"names":["db","require","module","exports","findAll","req","res","Book","find","query","then","dbBook","json","catch","err","console","log","findById","params","id","create","body","update","findOneAndUpdate","remove"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB,C,CAEA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,OAAO,EAAE,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACzBN,IAAAA,EAAE,CAACO,IAAH,CAAQC,IAAR,CAAaH,GAAG,CAACI,KAAjB,EACKC,IADL,CACUC,MAAM,IAAIL,GAAG,CAACM,IAAJ,CAASD,MAAT,CADpB,EAEKE,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGH,GALY;AAMbG,EAAAA,QAAQ,EAAE,UAAUZ,GAAV,EAAeC,GAAf,EAAoB;AAC1BN,IAAAA,EAAE,CAACO,IAAH,CAAQC,IAAR,CAAaH,GAAG,CAACa,MAAJ,CAAWC,EAAxB,EACKT,IADL,CACUC,MAAM,IAAIL,GAAG,CAACM,IAAJ,CAASD,MAAT,CADpB,EAEKE,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGH,GAVY;AAWbM,EAAAA,MAAM,EAAE,UAAUf,GAAV,EAAeC,GAAf,EAAoB;AACxBN,IAAAA,EAAE,CAACO,IAAH,CAAQa,MAAR,CAAef,GAAG,CAACgB,IAAnB,EACKX,IADL,CACUC,MAAM,IAAIL,GAAG,CAACM,IAAJ,CAASD,MAAT,CADpB,EAEKE,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGH,GAfY;AAgBbQ,EAAAA,MAAM,EAAE,UAAUjB,GAAV,EAAeC,GAAf,EAAoB;AACxBN,IAAAA,EAAE,CAACO,IAAH,CAAQgB,gBAAR,CAAyB;AAACJ,MAAAA,EAAE,EAAEd,GAAG,CAACa,MAAJ,CAAWC;AAAhB,KAAzB,EAA+Cd,GAAG,CAACgB,IAAnD,EACKX,IADL,CACUC,MAAM,IAAIL,GAAG,CAACM,IAAJ,CAASD,MAAT,CADpB,EAEKE,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGH,GApBY;AAqBbU,EAAAA,MAAM,EAAE,UAAUnB,GAAV,EAAeC,GAAf,EAAoB;AACxBN,IAAAA,EAAE,CAACO,IAAH,CAAQU,QAAR,CAAiBZ,GAAG,CAACa,MAAJ,CAAWC,EAA5B,EACKT,IADL,CACUC,MAAM,IAAIA,MAAM,CAACa,MAAP,EADpB,EAEKd,IAFL,CAEUC,MAAM,IAAIL,GAAG,CAACM,IAAJ,CAASD,MAAT,CAFpB,EAGKE,KAHL,CAGWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHlB;AAIH;AA1BY,CAAjB","sourcesContent":["const db = require(\"../models\");\r\n\r\n// routes for the books \r\n\r\nmodule.exports = {\r\n    findAll: function (req, res) {\r\n        db.Book.find(req.query)\r\n            .then(dbBook => res.json(dbBook))\r\n            .catch(err => console.log(err));\r\n    },\r\n    findById: function (req, res) {\r\n        db.Book.find(req.params.id)\r\n            .then(dbBook => res.json(dbBook))\r\n            .catch(err => console.log(err));\r\n    },\r\n    create: function (req, res) {\r\n        db.Book.create(req.body)\r\n            .then(dbBook => res.json(dbBook))\r\n            .catch(err => console.log(err))\r\n    },\r\n    update: function (req, res) {\r\n        db.Book.findOneAndUpdate({id: req.params.id} , req.body)\r\n            .then(dbBook => res.json(dbBook))\r\n            .catch(err => console.log(err))\r\n    },\r\n    remove: function (req, res) {\r\n        db.Book.findById(req.params.id)\r\n            .then(dbBook => dbBook.remove())\r\n            .then(dbBook => res.json(dbBook))\r\n            .catch(err => console.log(err))\r\n    },\r\n}"]},"metadata":{},"sourceType":"script"}