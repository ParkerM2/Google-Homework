(this["webpackJsonpgoogle-homework"]=this["webpackJsonpgoogle-homework"]||[]).push([[0],{60:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n(1),r=n(28),a=n.n(r),c=n(30),s=n(2),l=n(29),u=n(11),h=n(12),j=n(14),b=n(13),d=n(10),f=n.n(d),m=function(e){return f.a.get("/api/google",{params:{q:"title"+e}})},v=function(){return f.a.get("/api/books")},g=function(e){return f.a.delete("/api/books/"+e)},k=function(e){return f.a.post("/api/books",e)},O=function(e){var t=e.children;return Object(o.jsx)("ul",{children:t})};var p=function(e){var t=e.q,n=e.handleInputChange,i=e.handleFormSubmit;return Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"Query",children:Object(o.jsx)("strong",{children:"Book"})}),Object(o.jsx)("input",{className:"form-control",id:"Title",type:"text",value:t,placeholder:"Ready Player One",name:"q",onChange:n,required:!0})]}),Object(o.jsx)("div",{className:"pull-right",children:Object(o.jsx)("button",{onClick:i,type:"submit",className:"btn btn-lg btn-danger float-right",children:"Search"})})]})};var x=function(e){var t=e.title,n=e.subtitle,i=e.authors,r=e.link,a=e.description,c=e.image,s=e.Button;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:t}),n&&Object(o.jsx)("h5",{children:n}),Object(o.jsxs)("p",{children:[" Written by : ",i]}),Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:c,alt:t})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("a",{target:"_blank",href:r,children:"view"}),Object(o.jsx)(s,{})]}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:a})})]})},B=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={books:[],q:"",message:"Search For A Book To Begin!"},e.handleInputChange=function(t){var n=t.target,o=n.name,i=n.value;e.setState(Object(l.a)({},o,i))},e.getBooks=function(){m(e.state.q).then((function(t){return e.setState({books:t.data})})).catch((function(){return e.setState({books:[],message:"No New Books Found, Try a Different Query"})}))},e.handleFormSubmit=function(t){t.preventDefault(),e.getBooks()},e.handleBookSave=function(t){var n=e.state.books.find((function(e){return e.id===t}));k({googleId:n.id,title:n.volumeInfo.title,subtitle:n.volumeInfo.subtitle,link:n.volumeInfo.infoLink,authors:n.volumeInfo.authors,description:n.volumeInfo.description,image:n.volumeInfo.imageLinks.thumbnail}).then((function(){return e.getBooks()}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:" Google Books Search "}),Object(o.jsx)("h2",{children:" Search for and Save Books"}),Object(o.jsx)(p,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,q:this.state.q}),this.state.books.length?Object(o.jsx)(O,{children:this.state.books.map((function(t){return Object(o.jsx)(x,{title:t.volumeInfo.title,subtitle:t.volumeInfo.subtitle,link:t.volumeInfo.infoLink,authors:t.volumeInfo.authors.join(", "),description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,Button:function(){return Object(o.jsx)("button",{onClick:function(){return e.handleBookSave(t.id)},className:"btn btn-primary ml-2",children:"Save"})}},t.id)}))}):Object(o.jsxs)("h2",{children:[" ",this.state.message]})]})}}]),n}(i.Component),S=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={books:[]},e.getSavedBooks=function(){v().then((function(t){return e.setState({books:t.data})})).catch((function(e){return console.log(e)}))},e.handleDeleteBook=function(t){g(t).then((function(t){return e.getSavedBooks()}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getSavedBooks()}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:" React Google Book Search"}),Object(o.jsx)("h2",{children:" Saved Books : "}),this.state.books.length?Object(o.jsx)(O,{children:this.state.books.map((function(t){return Object(o.jsx)(x,{title:t.title,subtitle:t.subtitle,link:t.link,authors:t.authors.join(", "),description:t.description,image:t.image,Button:function(){return Object(o.jsx)("button",{onClick:function(){return e.handleDeleteBook(t._id)},children:"Delete Book"})}},t._id)}))}):Object(o.jsx)("h3",{children:"No Saved books"})]})}}]),n}(i.Component);var y=function(){return Object(o.jsx)("h4",{children:" Error 404 You may not pass go, go straight to jail."})};var I=function(){return Object(o.jsx)(c.a,{children:Object(o.jsx)("div",{children:Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{exact:!0,path:"/",component:B}),Object(o.jsx)(s.a,{exact:!0,path:"/saved",component:S}),Object(o.jsx)(s.a,{component:y})]})})})};a.a.render(Object(o.jsx)(I,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a9cbd00e.chunk.js.map